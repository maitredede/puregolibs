# Knowledge

## ImageMagick make interlaced image

```go
package main

import (
	"flag"
	"fmt"
	"os"

	"gopkg.in/gographics/imagick.v3/imagick"
)

var (
	inputFile  string
	outputFile string
)

func main() {
	flag.StringVar(&inputFile, "i", "input.png", "input png file")
	flag.StringVar(&outputFile, "o", "output.png", "output png file")
	flag.Parse()

	mw := imagick.NewMagickWand()
	defer mw.Destroy()

	inputBlob, err := os.ReadFile(inputFile)
	if err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
	if err := mw.ReadImageBlob(inputBlob); err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
	if err := mw.SetInterlaceScheme(imagick.INTERLACE_PLANE); err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
	outputBlob, err := mw.GetImageBlob()
	if err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
	if err := os.WriteFile(outputFile, outputBlob, 0600); err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
}
```
